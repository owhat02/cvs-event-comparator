# 🏪 편의점 행사 상품 및 지점 통합 대시보드 프로젝트 개요 (Conv-Dashboard)

## 1. 프로젝트 정의 및 목표
본 프로젝트는 국내 주요 4대 편의점(CU, GS25, 7-Eleven, emart24)의 **행사 상품 데이터**와 **공공데이터 기반 지점 정보**를 통합하여 사용자에게 최적의 소비 경험을 제공하는 대시보드 시스템입니다.

- **핵심 목표**: 
    - 브랜드별로 파편화된 행사 정보를 통합 수집 및 정제
    - 키워드 분석을 통한 상품 카테고리 자동 분류
    - 공공데이터 OpenAPI 연동을 통한 전국 편의점 위치 정보 제공
    - 예산 맞춤형 상품 조합 및 AI 챗봇 등 부가 기능 구현

---

## 2. 시스템 아키텍처 및 기술 스택
- **언어**: Python 3.x
- **프레임워크**: Streamlit (대시보드 UI)
- **데이터 수집**: BeautifulSoup, Selenium, Requests (OpenAPI)
- **데이터 분석/처리**: Pandas, Regex (정규표현식), Loguru
- **시각화**: Matplotlib, Seaborn, Plotly

---

## 3. 데이터 수집 파이프라인 (Data Collection)

### 3.1. 웹 크롤링 (행사 상품 데이터)
- **대상**: CU, GS25, 7-Eleven, emart24 공식 홈페이지
- **모듈**: `scraper/` 패키지 내 각 브랜드별 독립 스크래퍼 운영
- **수집 항목**: 브랜드(brand), 상품명(name), 가격(price), 행사타입(event), 이미지URL(img_url)

### 3.2. 공공데이터 API 연동 (지점 정보 데이터)
- **파일명**: `convenience_store_public_data.py`
- **출처**: 안전디딤돌(safemap.go.kr) IF_0039 OpenAPI
- **특징**: 전국 편의점의 시설명, 주소, 좌표 정보를 JSON 형태로 수집하여 `safemap_convenience_stores_all.csv`로 저장. 페이지네이션 처리를 통해 대용량 데이터 전수 수집.

---

## 4. 데이터 전처리 및 표준화 (Data Preprocessing)

### 4.1. 행사 상품 정제 및 통합 (`data_cleaner.py`)
- **데이터 통합**: 각 브랜드별 CSV 파일을 하나로 병합
- **수치화**: 가격 데이터에서 특수문자 제거 및 정수형(Integer) 변환
- **필터링**: 중복 데이터 및 이미지 누락 등 노이즈 데이터 제거

### 4.2. 키워드 기반 카테고리 분류 (`data_categorize.py`)
- **알고리즘**: 사전 정의된 키워드 리스트를 활용한 패턴 매칭
- **분류 체계**: 식사류, 간식류, 음료, 생수, 생활/위생용품, 기타 6개 카테고리

### 4.3. 지점 데이터 브랜드 표준화 (`cleaning_convenience_store_public_data.py`)
- **문제점**: 공공데이터 내 시설명이 'CU 역삼점', '씨유 강남점' 등 비표준화된 형태로 존재
- **해결책**: 정규표현식(Regex)을 사용하여 브랜드 식별 및 표준화
    - CU 패턴: `cu|씨유`
    - GS25 패턴: `gs|지에스`
    - emart24 패턴: `emart|이마트`
    - 7-Eleven 패턴: `세븐|7eleven|711`
- **결과**: 지도 서비스 활용을 위한 `filtered_convenience_stores.csv` 생성

---

## 5. 주요 기능 및 대시보드 구성 (`pages/`)

| 페이지 번호 | 기능명 | 설명 |
| :--- | :--- | :--- |
| **00_home** | 메인 홈 | 프로젝트 개요 및 실시간 데이터 현황 요약 |
| **01_overall** | 전체 요약 | 통합 데이터 통계 및 브랜드별 비교 차트 제공 |
| **02_comparison** | 브랜드 비교 | 특정 브랜드 간 상품 종류 및 가격대 분포 비교 |
| **03_best_value** | 가성비 분석 | 1+1 상품 중 최저가 상품 및 효율성 순위 제공 |
| **04_budget** | 예산 조합기 | 사용자가 설정한 예산 내 최적의 1+1, 2+1 조합 추천 |
| **05_diet** | 다이어트 가이드 | 저칼로리/고단백 행사 상품 큐레이션 |
| **06_night_snack** | 야식 가이드 | 야식 및 주류 안주 행사 상품 추천 |
| **07_map** | 편의점 지도 | 공공데이터 기반 주변 브랜드 지점 위치 표시 |
| **08_random** | 럭키 박스 | 랜덤 행사 상품 뽑기 (결정 장애 해결 기능) |
| **09_jackpot** | 미니 게임 | 사용자 체류 시간 증대를 위한 엔터테인먼트 요소 |

---

## 6. 부가 기능 및 유틸리티
- **AI 챗봇 (`chatbot.py`)**: 행사 상품 정보를 기반으로 사용자의 질문에 답변하고 추천 상품을 제안.
- **배치 스케줄러 (`batch/`)**: 주기적으로 크롤러를 실행하여 최신 데이터를 유지하는 자동화 기능.
- **시각화 자산 (`assets/`)**: 브랜드 로고 및 분석 결과 그래프(PNG) 관리.

---

## 7. 기대 효과 및 향후 과제
- **기대 효과**: 소비자들의 합리적인 선택을 돕고, 공공데이터와 민간 데이터를 결합한 실용적인 서비스 모델 제시.
- **향후 과제**: 
    - 사용자 위치 기반 실시간 재고 확인 API 연동 시도
    - 머신러닝 기반 사용자 선호 카테고리 예측 모델 도입
    - 서비스 안정화를 위한 에러 핸들링 및 로그 시스템 강화

---
