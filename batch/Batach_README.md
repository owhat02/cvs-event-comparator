# 🚀 편의점 최신화 행사 정보 수집 배치

편의점 4사(7-Eleven, CU, GS25, Emart24)의 행사 정보를 자동으로 수집하고 분류하는 배치

## 📅 실행 스케줄
- **실행 일시**: 매달 1일 00:30 (KST 기준)
- **주요 목적**: 새로운 달의 시작과 동시에 변경되는 행사 정보를 즉시 수집하여 업데이트(최신화)

## 추가된 의존성 
- apscheduler 배치 크론 시간에 사용

## 🛠 주요 기능
1. **데이터 크롤링**: 각 편의점 사이트의 최신 행사 데이터를 수집합니다.
2. **데이터 정제**: 수집된 원본 데이터를 `data_cleaner`를 통해 통합 및 중복 제거합니다.
3. **자동 분류**: 수집된 상품명을 분석하여 식사류, 간식류, 음료 등의 카테고리로 자동 매핑합니다.
4. **로그 관리**: `crawl_batch_log/YY_MM/` 경로에 상세 실행 로그를 기록하여 실패 시 대응이 용이합니다. ex) 26년 3월 이면 26_03 폴더에 로그 저장

## 📂 디렉토리 구조
- `batch/`: 배치 스크립트 메인 로직 및 스케쥴러 관리
  - `script/`: 배치 스크립트 위치(ex) ABC배치, 26_2배치 등등)
  - `batch_scheduler_manager.py`: 배치 스케쥴러 설정 및 실행
- `crawl_batch_log/`: 배치 실행 로그 저장소
- `test`/: 배치 스크립트 테스트 케이스 및 테스트코드

## 🧪 테스트 및 참고 사항
- 프로젝트 루트에서 test 디렉토리로 이동 아래의 명령어로 실행
- 테스트후 재 테스트시 crawl_batch_log 아래 생성된 26_2 혹은 테스트 스크립트에서 지정한 년도,월에 해당하는 폴더 삭제 후 재실행하여 테스트 가능
- 실패가 아닌 이상 별 특이 사항 없으면 로그파일과 test/data 아래의 데이터는 삭제 권장
-  dry_run ==> True : 실제 수집은 건너뛰고 로그 생성 및 전체 프로세스 흐름만 시뮬레이션
-  dry_run ==> False : 실제 수집및  로그 생성 및 전체 프로세스 흐름 시뮬레이션
- **crawl_batch_log, test/data 두개의 디렉토리는 삭제, 변경하면 안됨**
```bash
cd test

python test_batch.py
```